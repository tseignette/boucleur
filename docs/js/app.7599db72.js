(function(e){function t(t){for(var a,i,s=t[0],u=t[1],o=t[2],b=0,d=[];b<s.length;b++)i=s[b],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},c=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/boucleur/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var o=0;o<s.length;o++)t(s[o]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"43ae":function(e,t,n){"use strict";n("ab0a")},"86c9":function(e,t,n){},"881e":function(e,t,n){"use strict";n("d26c")},"90a1":function(e,t,n){"use strict";n("e17f")},aa16:function(e,t,n){"use strict";n("d044")},ab0a:function(e,t,n){},b374:function(e,t,n){"use strict";n("d19a")},b3bb:function(e,t,n){"use strict";n("86c9")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t,n,r,c,i){var s=Object(a["y"])("router-view"),u=Object(a["y"])("Layout");return Object(a["p"])(),Object(a["d"])(u,null,{default:Object(a["F"])((function(){return[Object(a["g"])(s)]})),_:1})}var c=n("d4ec"),i=n("262e"),s=n("2caf"),u=n("9ab4"),o=n("ce1f"),l=Object(a["H"])("data-v-edce798c");Object(a["t"])("data-v-edce798c");var b={class:"content p-2"};Object(a["q"])();var d=l((function(e,t,n,r,c,i){var s=Object(a["y"])("Details"),u=Object(a["y"])("Nav"),o=Object(a["z"])("DetailsPlacement"),l=Object(a["z"])("MenuPlacement");return Object(a["p"])(),Object(a["d"])("div",{style:{height:e.height},class:"container grid-xs"},[Object(a["G"])(Object(a["g"])(s,null,null,512),[[o,"top"]]),Object(a["G"])(Object(a["g"])(u,null,null,512),[[l,"top"]]),Object(a["g"])("div",b,[Object(a["x"])(e.$slots,"default")]),Object(a["G"])(Object(a["g"])(s,null,null,512),[[o,"bottom"]]),Object(a["G"])(Object(a["g"])(u,null,null,512),[[l,"bottom"]])],4)})),p=n("bee2"),f=(n("99af"),n("b65f"),n("b680"),n("d3b7"),n("25f0"),n("4d90"),n("96cf"),n("1da1")),O=function(){function e(){Object(c["a"])(this,e)}return Object(p["a"])(e,null,[{key:"arrayBuffer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===File.prototype.arrayBuffer){e.next=4;break}return e.abrupt("return",t.arrayBuffer());case 4:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsArrayBuffer(t)})));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"decodeAudioData",value:function(e){return new Promise((function(t,n){var a=window.AudioContext||window.webkitAudioContext||!1;if(a){var r=new a;r.decodeAudioData(e,t,n)}else t(!1)}))}},{key:"formatSize",value:function(e){var t=["o","ko","Mo","Go"],n=0,a=t[0];while(e>1024&&t[n+1])n++,e/=1024,a=t[n];return"".concat(e.toFixed(1)," ").concat(a)}},{key:"formatTime",value:function(e){var t=Math.trunc(e/60),n=Math.trunc(e-60*t);return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))}}]),e}();O.breakpoint="lg";var v={mounted:function(e,t){switch(t.value){case"bottom":e.classList.add("hide-".concat(O.breakpoint));break;case"top":e.classList.add("show-".concat(O.breakpoint));break}}},j=v,h={mounted:function(e,t){switch(t.value){case"bottom":e.classList.add("show-".concat(O.breakpoint));break;case"top":e.classList.add("hide-".concat(O.breakpoint));break}}},m=h,g={class:"text-center py-1"},y={class:"text-small text-gray mb-0"},k=Object(a["f"])(" ("),w=Object(a["f"])("not "),x=Object(a["f"])("persistent) "),P=Object(a["f"])(" • "),M=Object(a["g"])("a",{class:"text-gray",href:"https://github.com/tseignette/boucleur",target:"_blank"},"GitHub",-1);function R(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("div",g,[Object(a["g"])("p",y,[e.quota&&e.usage?(Object(a["p"])(),Object(a["d"])(a["a"],{key:0},[Object(a["f"])(Object(a["B"])(e.usage)+" / "+Object(a["B"])(e.quota)+" ",1),null!==e.persisted?(Object(a["p"])(),Object(a["d"])(a["a"],{key:0},[k,e.persisted?Object(a["e"])("",!0):(Object(a["p"])(),Object(a["d"])(a["a"],{key:0},[w],64)),x],64)):Object(a["e"])("",!0),P],64)):Object(a["e"])("",!0),M])])}n("b0c0");var _=n("4dec"),A=(n("fb6a"),n("1013")),T=function(){function e(t,n,a){Object(c["a"])(this,e),this.addedOn=new Date,this.file=n,this.name=t,this.type=a}return Object(p["a"])(e,[{key:"guessTempo",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.file.slice(0),e.next=3,O.decodeAudioData(t);case 3:if(n=e.sent,!n){e.next=11;break}return e.next=7,Object(A["a"])(n);case 7:a=e.sent,this.tempo=a.bpm,e.next=12;break;case 11:this.tempo=120;case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),E=function(){function e(){Object(c["a"])(this,e),this.adding=Object(a["v"])(!1),this.musics=Object(a["v"])(null),this.persisted=Object(a["v"])(null),this.quota=Object(a["v"])(null),this.usage=Object(a["v"])(null),this.database=new _["a"]("database"),this.database.version(1).stores({musics:"++id, addedOn, file, name"}),this.database.version(2).stores({musics:"++id, addedOn, file, name, tempo"}).upgrade((function(e){return e.table("musics").toCollection().modify((function(e){e.tempo=120}))})),this.database.version(3).stores({musics:"++id, addedOn, file, name, tempo, type"}).upgrade((function(e){return e.table("musics").toCollection().modify((function(e){e.type="audio/mpeg"}))})),this.table=this.database.table("musics"),this.table.mapToClass(T),this.listMusics(),this.persist(),this.updateQuotaAndUsage()}return Object(p["a"])(e,[{key:"addMusic",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.adding.value=!0,e.prev=1,e.next=4,t.guessTempo();case 4:return e.next=6,this.table.add(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),alert(null===e.t0||void 0===e.t0?void 0:e.t0.name);case 11:this.adding.value=!1,this.listMusics(),this.updateQuotaAndUsage();case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteMusic",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.table.delete(t.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),alert(null===e.t0||void 0===e.t0?void 0:e.t0.name);case 8:this.listMusics(),this.updateQuotaAndUsage();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateMusic",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.table.update(t.id,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),alert(null===e.t0||void 0===e.t0?void 0:e.t0.name);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"listMusics",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.table.reverse().toArray();case 2:this.musics.value=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadPersisted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=navigator.storage)||void 0===t||!t.persisted){e.next=4;break}return e.next=3,navigator.storage.persisted();case 3:this.persisted.value=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"persist",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=navigator.storage)||void 0===t||!t.persist){e.next=5;break}return e.next=3,navigator.storage.persist();case 3:return e.next=5,this.loadPersisted();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateQuotaAndUsage",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=navigator.storage)||void 0===t||!t.estimate){e.next=5;break}return e.next=3,navigator.storage.estimate();case 3:n=e.sent,void 0!==n.quota&&void 0!==n.usage&&(this.quota.value=n.quota,this.usage.value=n.usage);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),B=new E,D=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.persisted=B.persisted,e}return Object(p["a"])(n,[{key:"quota",get:function(){return null!==B.quota.value?O.formatSize(B.quota.value):null}},{key:"usage",get:function(){return null!==B.usage.value?O.formatSize(B.usage.value):null}}]),n}(o["b"]);D.render=R;var C=D,S={class:"bg-gray"},L={class:"tab tab-block"},I={class:"tab-item",title:"Music list"},q=Object(a["g"])("i",{class:"icon icon-menu"},null,-1),z={class:"tab-item",title:"Player"},F=Object(a["g"])("i",{class:"icon icon-arrow-right"},null,-1);function H(e,t,n,r,c,i){var s=Object(a["y"])("router-link");return Object(a["p"])(),Object(a["d"])("nav",S,[Object(a["g"])("ul",L,[Object(a["g"])("li",I,[Object(a["g"])(s,{"active-class":"active",to:"/"},{default:Object(a["F"])((function(){return[q]})),_:1})]),Object(a["g"])("li",z,[Object(a["g"])(s,{"active-class":"active",to:"/player"},{default:Object(a["F"])((function(){return[F]})),_:1})])])])}var G=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(o["b"]);G.render=H;var U=G,N=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.breakpoint="lg",e.height="",e}return Object(p["a"])(n,[{key:"created",value:function(){this.updateHeight(),window.addEventListener("resize",this.updateHeight)}},{key:"beforeUnmount",value:function(){window.removeEventListener("resize",this.updateHeight)}},{key:"updateHeight",value:function(){this.height="".concat(window.innerHeight,"px")}}]),n}(o["b"]);N=Object(u["a"])([Object(o["a"])({components:{Details:C,Nav:U},directives:{DetailsPlacement:j,MenuPlacement:m}})],N);var $=N;n("b3bb");$.render=d,$.__scopeId="data-v-edce798c";var Q=$,J=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(o["b"]);J=Object(u["a"])([Object(o["a"])({components:{Layout:Q}})],J);var W=J;n("43ae");W.render=r;var Y=W,K=n("9483");Object(K["a"])("".concat("/boucleur/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var V=n("6c02"),X=Object(a["H"])("data-v-7c05354a"),Z=X((function(e,t,n,r,c,i){var s=Object(a["y"])("MusicsAdd"),u=Object(a["y"])("MusicsList"),o=Object(a["z"])("MenuPlacement");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["G"])(Object(a["g"])(s,{class:"music-add music-add-top mb-2"},null,512),[[o,"top"]]),Object(a["g"])(u,{class:"music-list"}),Object(a["G"])(Object(a["g"])(s,{class:"music-add music-add-bottom mt-2"},null,512),[[o,"bottom"]])],64)})),ee={class:"text-center"},te=Object(a["g"])("i",{class:"icon icon-plus"},null,-1);function ne(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("div",ee,[Object(a["g"])("input",{onChange:t[1]||(t[1]=function(t){return e.addMusic()}),class:"d-none",ref:"fileInput",type:"file"},null,544),Object(a["g"])("button",{class:[{loading:e.adding||null===e.musics},"btn btn-lg btn-primary btn-action s-circle"],onClick:t[2]||(t[2]=function(t){return e.$refs.fileInput.click()}),title:"Add a music",type:"button"},[te],2)])}var ae=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.adding=B.adding,e.musics=B.musics,e}return Object(p["a"])(n,[{key:"addMusic",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==(t=this.$refs.fileInput.files)&&void 0!==t&&t.length){e.next=2;break}return e.abrupt("return");case 2:return n=this.$refs.fileInput.files[0],e.t0=T,e.t1=n.name,e.next=7,O.arrayBuffer(n);case 7:return e.t2=e.sent,e.t3=n.type,a=new e.t0(e.t1,e.t2,e.t3),this.$refs.fileInput.value="",e.next=13,B.addMusic(a);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(o["b"]);ae.render=ne;var re=ae,ce={key:0,class:"empty"},ie=Object(a["g"])("div",{class:"loading"},null,-1),se={key:1,class:"empty"},ue=Object(a["g"])("p",{class:"empty-title h5"},"You have no music",-1),oe={key:2};function le(e,t,n,r,c,i){var s=Object(a["y"])("MusicTile");return null===e.musics?(Object(a["p"])(),Object(a["d"])("div",ce,[ie])):0===e.musics.length?(Object(a["p"])(),Object(a["d"])("div",se,[ue])):(Object(a["p"])(),Object(a["d"])("div",oe,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.musics,(function(e,t){return Object(a["p"])(),Object(a["d"])(s,{class:{"mt-1":0!==t},key:e.id,music:e},null,8,["class","music"])})),128))]))}var be={class:"tile tile-centered"},de={class:"tile-content"},pe={class:"tile-subtitle text-gray"},fe={class:"tile-action"},Oe={class:"dropdown dropdown-right mr-1"},ve=Object(a["g"])("a",{class:"dropdown-toggle btn btn-link btn-action s-circle",tabindex:"0"},[Object(a["g"])("i",{class:"icon icon-more-horiz"})],-1),je={class:"menu"},he={class:"menu-item"},me=Object(a["g"])("i",{class:"icon icon-arrow-right"},null,-1);function ge(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("div",be,[Object(a["g"])("div",de,[Object(a["g"])("div",{title:e.music.name,class:"tile-title"},Object(a["B"])(e.music.name),9,["title"]),Object(a["g"])("small",pe,Object(a["B"])(e.music.tempo)+" bpm • "+Object(a["B"])(e.size)+" • "+Object(a["B"])(e.addedOn),1)]),Object(a["g"])("div",fe,[Object(a["g"])("div",Oe,[ve,Object(a["g"])("ul",je,[Object(a["g"])("li",he,[Object(a["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.deleteMusic()}),class:"btn btn-block btn-error",title:"Delete music",type:"button"},"Delete")])])]),Object(a["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.playMusic()}),class:"btn btn-action s-circle",title:"Play"},[me])])])}var ye=function e(){Object(c["a"])(this,e),this.music=Object(a["v"])(null)},ke=new ye,we=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"deleteMusic",value:function(){B.deleteMusic(this.music)}},{key:"playMusic",value:function(){ke.music.value=this.music,this.$router.push("/player")}},{key:"addedOn",get:function(){return this.music.addedOn.toLocaleDateString()}},{key:"size",get:function(){return O.formatSize(this.music.file.byteLength)}}]),n}(o["b"]);we=Object(u["a"])([Object(o["a"])({props:{music:T}})],we);var xe=we;xe.render=ge;var Pe=xe,Me=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.musics=B.musics,e}return n}(o["b"]);Me=Object(u["a"])([Object(o["a"])({components:{MusicTile:Pe}})],Me);var Re=Me;Re.render=le;var _e=Re,Ae=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(o["b"]);Ae=Object(u["a"])([Object(o["a"])({components:{MusicsAdd:re,MusicsList:_e},directives:{MenuPlacement:m}})],Ae);var Te=Ae;n("aa16");Te.render=Z,Te.__scopeId="data-v-7c05354a";var Ee=Te,Be={key:0,class:"empty"},De=Object(a["g"])("p",{class:"empty-title h5"},"You have no music playing",-1),Ce={class:"empty-action"},Se=Object(a["f"])("Select a music");function Le(e,t,n,r,c,i){var s=Object(a["y"])("router-link"),u=Object(a["y"])("PlayerContent");return null===e.music?(Object(a["p"])(),Object(a["d"])("div",Be,[De,Object(a["g"])("div",Ce,[Object(a["g"])(s,{class:"btn btn-primary",title:"Select a music",to:"/"},{default:Object(a["F"])((function(){return[Se]})),_:1})])])):(Object(a["p"])(),Object(a["d"])(u,{key:1,music:e.music},null,8,["music"]))}var Ie=Object(a["H"])("data-v-77fdebb8");Object(a["t"])("data-v-77fdebb8");var qe={class:"player"};Object(a["q"])();var ze=Ie((function(e,t,n,r,c,i){var s=Object(a["y"])("PlayerInfo"),u=Object(a["y"])("PlayerProgressBar"),o=Object(a["y"])("PlayerOptions"),l=Object(a["y"])("PlayerButtons");return Object(a["p"])(),Object(a["d"])("div",qe,[Object(a["g"])(s,{music:e.music,player:e.player,class:"mb-1"},null,8,["music","player"]),Object(a["g"])(u,{player:e.player,class:"mb-2"},null,8,["player"]),Object(a["g"])(o,{music:e.music,class:"mb-2"},null,8,["music"]),Object(a["g"])(l,{player:e.player},null,8,["player"])])})),Fe=(n("3ca3"),n("ddb0"),n("2b3d"),function(){function e(t){Object(c["a"])(this,e),this.currentTime=Object(a["v"])(0),this.duration=Object(a["v"])(0),this.paused=Object(a["v"])(!0),this.progress=Object(a["v"])(0);var n=new Blob([t.file],{type:t.type});this.audio=new Audio,this.handleListeners("add"),this.audio.src=window.URL.createObjectURL(n)}return Object(p["a"])(e,[{key:"destroy",value:function(){this.audio.src="",this.audio.removeAttribute("src"),this.handleListeners("remove")}},{key:"setProgress",value:function(e){this.audio.currentTime=e*this.audio.duration}},{key:"togglePaused",value:function(){this.paused.value=!this.paused.value,this.paused.value?this.audio.pause():this.audio.play()}},{key:"handleError",value:function(){var e,t;switch(null===(e=this.audio.error)||void 0===e?void 0:e.code){case MediaError.MEDIA_ERR_ABORTED:t="Audio playing aborted";break;case MediaError.MEDIA_ERR_DECODE:t="Audio decoding error";break;case MediaError.MEDIA_ERR_NETWORK:t="Network error";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:t="Source not supported";break;default:t="Audio playing error";break}alert(t)}},{key:"handleListeners",value:function(e){var t="add"===e?"addEventListener":"removeEventListener";this.audio[t]("durationchange",this.updateDuration.bind(this)),this.audio[t]("error",this.handleError.bind(this)),this.audio[t]("pause",this.updatePaused.bind(this)),this.audio[t]("play",this.updatePaused.bind(this)),this.audio[t]("timeupdate",this.updateCurrentTime.bind(this))}},{key:"updateCurrentTime",value:function(){this.currentTime.value=this.audio.currentTime,this.updateProgress()}},{key:"updateDuration",value:function(){this.duration.value=this.audio.duration,this.updateProgress()}},{key:"updatePaused",value:function(){this.paused.value=this.audio.paused}},{key:"updateProgress",value:function(){this.progress.value=100*this.audio.currentTime/this.audio.duration}}]),e}()),He=Object(a["H"])("data-v-014f536a");Object(a["t"])("data-v-014f536a");var Ge={class:"text-center"};Object(a["q"])();var Ue=He((function(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("div",Ge,[Object(a["g"])("button",{title:e.paused?"Play":"Pause",onClick:t[1]||(t[1]=function(t){return e.togglePaused()}),class:"btn btn-xl btn-primary s-circle"},[Object(a["g"])("i",{class:[{paused:e.paused},"icon icon-arrow-right"]},null,2)],8,["title"])])})),Ne=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"togglePaused",value:function(){this.player.togglePaused()}},{key:"paused",get:function(){return this.player.paused.value}}]),n}(o["b"]);Ne=Object(u["a"])([Object(o["a"])({props:{player:Fe}})],Ne);var $e=Ne;n("90a1");$e.render=Ue,$e.__scopeId="data-v-014f536a";var Qe=$e,Je={class:"d-flex justify-content-between align-items-end"},We={class:"text-small text-muted"},Ye={class:"text-small text-muted"};function Ke(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("div",Je,[Object(a["g"])("span",We,Object(a["B"])(e.currentTime),1),Object(a["g"])("span",{title:e.music.name,class:"ellipsis px-2"},Object(a["B"])(e.music.name),9,["title"]),Object(a["g"])("span",Ye,Object(a["B"])(e.duration),1)])}var Ve=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"currentTime",get:function(){return O.formatTime(this.player.currentTime.value)}},{key:"duration",get:function(){return O.formatTime(this.player.duration.value)}}]),n}(o["b"]);Ve=Object(u["a"])([Object(o["a"])({props:{music:T,player:Fe}})],Ve);var Xe=Ve;Xe.render=Ke;var Ze=Xe,et={class:"form-group justify-content-between"},tt=Object(a["g"])("div",{class:"col-4"},[Object(a["g"])("label",{class:"form-label",for:"tempo"},"Tempo")],-1),nt={class:"col-8"},at={class:"input-group"},rt=Object(a["g"])("span",{class:"input-group-addon"},"bpm",-1);function ct(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("form",{onChange:t[2]||(t[2]=function(){return e.onFormChange.apply(e,arguments)}),class:"form-horizontal"},[Object(a["g"])("div",et,[tt,Object(a["g"])("div",nt,[Object(a["g"])("div",at,[Object(a["G"])(Object(a["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tempo=t}),required:"",class:"form-input",id:"tempo",min:"1",step:"1",type:"number"},null,512),[[a["D"],e.tempo,void 0,{number:!0}]]),rt])])])],32)}var it=function(){function e(){Object(c["a"])(this,e)}return Object(p["a"])(e,null,[{key:"tempo",value:function(e){return"number"===typeof e&&e>=1?e:null}}]),e}(),st=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"beforeMount",value:function(){this.tempo=this.music.tempo}},{key:"onFormChange",value:function(){var e=it.tempo(this.tempo);null!==e&&(this.music.tempo=this.tempo,B.updateMusic(this.music))}}]),n}(o["b"]);st=Object(u["a"])([Object(o["a"])({props:{music:T}})],st);var ut=st;ut.render=ct;var ot=ut,lt=Object(a["H"])("data-v-49082bc4"),bt=lt((function(e,t,n,r,c,i){return Object(a["p"])(),Object(a["d"])("div",{onClick:t[1]||(t[1]=function(t){return e.setProgress(t)}),class:"bar c-hand",ref:"progressBar"},[Object(a["g"])("div",{style:{width:e.progress},class:"bar-item bg-gray-dark"},null,4)],512)})),dt=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"setProgress",value:function(e){this.player.setProgress(e.offsetX/this.$refs.progressBar.clientWidth)}},{key:"progress",get:function(){return"".concat(this.player.progress.value.toFixed(2),"%")}}]),n}(o["b"]);dt=Object(u["a"])([Object(o["a"])({props:{player:Fe}})],dt);var pt=dt;n("881e");pt.render=bt,pt.__scopeId="data-v-49082bc4";var ft=pt,Ot=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"beforeMount",value:function(){this.player=new Fe(this.music)}},{key:"unmounted",value:function(){this.player.destroy()}}]),n}(o["b"]);Ot=Object(u["a"])([Object(o["a"])({components:{PlayerButtons:Qe,PlayerInfo:Ze,PlayerOptions:ot,PlayerProgressBar:ft},props:{music:T}})],Ot);var vt=Ot;n("b374");vt.render=ze,vt.__scopeId="data-v-77fdebb8";var jt=vt,ht=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.music=ke.music,e}return n}(o["b"]);ht=Object(u["a"])([Object(o["a"])({components:{PlayerContent:jt}})],ht);var mt=ht;mt.render=Le;var gt=mt,yt=[{path:"/",component:Ee},{path:"/player",component:gt},{path:"/:catchAll(.*)*",redirect:"/"}],kt=Object(V["a"])({history:Object(V["b"])("/boucleur/"),routes:yt}),wt=kt;Object(a["c"])(Y).use(wt).mount("#app")},d044:function(e,t,n){},d19a:function(e,t,n){},d26c:function(e,t,n){},e17f:function(e,t,n){}});
//# sourceMappingURL=app.7599db72.js.map